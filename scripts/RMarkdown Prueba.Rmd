---
title: "Problem Set 1 RMarkdown"
author: "Miguel Victoria"
date: "2023-06-21"
output: word_document
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)

# install pacman
if(!require(pacman)) install.packages("pacman") ; require(pacman)

## Automatiza cargue de paquetes
require(pacman)
p_load(rio, # import/export data
       tidyverse, # tidy-data
       skimr, # summary data
       caret,
       rstudioapi,
       rvest) # Classification And REgression Training
```

```{r path, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)

# Directorio 
rm(list=ls())
getwd()
path_sript <- rstudioapi::getActiveDocumentContext()$path
path_folder <- dirname(path_sript)
setwd(path_folder)
```


```{r Import_data, eval=FALSE, include=FALSE}
## Revisión preliminar
#1

url1 <- "https://ignaciomsarmiento.github.io/GEIH2018_sample/pages/geih_page_1.html"
prueba1 <- read_html(url1)
prueba1_tablas <- prueba1 %>% 
  html_table()
prueba_data_frame1 <- data.frame(prueba1_tablas)


#2

url2 <- "https://ignaciomsarmiento.github.io/GEIH2018_sample/pages/geih_page_2.html"
prueba2 <- read_html(url2)
prueba_tablas2 <- prueba2 %>% 
  html_table()
prueba_data_frame2 <- data.frame(prueba_tablas2)


## Creación del loop
# Crear un data frame vacío para almacenar las tablas
tabla_final <- data.frame()

for (i in 1:10) {
  # Paso 1: Construir la URL
  url <- paste0("https://ignaciomsarmiento.github.io/GEIH2018_sample/pages/geih_page_", i, ".html")
  
  # Paso 2: Leer el HTML de la URL
  prueba <- read_html(url)
  
  # Paso 3: Extraer las tablas del HTML
  tablas <- prueba %>% html_table()
  
  # Paso 4: Convertir la tabla en data frame
  tabla <- data.frame(tablas)
  
  # Paso 5: Concatenar la tabla al data frame final
  tabla_final <- rbind(tabla_final, tabla)
}

# Revisión preliminar
head(tabla_final)
any(grepl("directorio", tabla_final$directorio))
which(tabla_final$directorio == 0)

# Descriptivas
summary(tabla_final)

summary()

```


## Problem Set 1: Predicting Income
The main objective is to construct a model of individual hourly wages

$$
w=f(X)+u
$$
where w is the hourly wage, and X is a matrix that includes potential explanatory variables/predictors.

## Introduction

Briefly states the problem and if there are any antecedents...

### GEIH Description
```{r GEIH}



```

### Process of acquiring the data



### Data cleaning process

```{r Transformation, include=FALSE}
# 1. Only on employed individuals older than 18 years old
# 2. Observations with missing data or 0 wages

```


### Descriptive Analysis

```{r Descriptive}


 

## Tables

## Deeper Analysis

## Justification for the data choices


```

## Age-wage profile

A great deal of evidence in Labor economics suggests that the typical worker’s age-wage profile has a predictable path: “Wages tend to be low when the worker is young; they rise as the worker ages, peaking at about age 50; and the wage rate tends to remain stable or decline slightly after age 50”

###  Estimate the Age-wage profile
$$
Log(w)=\beta_1+\beta_2Age+\beta_3Age^2+u
$$





This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.


# Notas
Sustentar todas las medidas que salgan en las regresiones
Exportar salidas de regresión con stargazer